<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Adventskalender</title>
    <style>
        .kalender{
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .toerchen{
            height: 200px;
            width: 200px;
            border: 1px solid red;
            align-self: center;
            font-size: 50px;
            /*background-color: darkgreen;*/
            background-image: linear-gradient(280deg, green, darkgreen);
            margin: 3px;
            border-radius: 5px;
        }
        header{
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #buttonLock{
            background-color: green;
        }

        body{
            background-image: linear-gradient(280deg, red,lightgreen, darkgreen);
            background-attachment: fixed;
        }
    </style>

    <script type="module">
        let datumsLock = true;
        let datumSim = false;

        const lockButton = document.getElementById('buttonLock');
        lockButton.addEventListener('click', ()=>{
            if(datumsLock){
                datumsLock = false;
                lockButton.style.backgroundColor = 'red';
                lockButton.textContent = 'Datumslock EIN';
            } else {
                datumsLock = true;
                lockButton.style.backgroundColor = 'green';
                lockButton.textContent = 'Datumslock AUS';
                window.location.reload();
            }
        });

        const simButton = document.getElementById('buttonSim');
        simButton.addEventListener('click', ()=>{
            if(datumSim){
                datumSim = false;
                window.location.reload();
            } else {
                datumSim = true;
                simButton.style.backgroundColor = 'red';
                simButton.textContent = 'Echt Zeit';
            }
        });

        const adventskalender = [
            'ðŸŽ GenieÃŸe die Feiertage! ðŸŽ',
            'ðŸŽ… Habt einen schÃ¶nen Tag! ðŸŽ…',
            'â„ï¸ Bleibt gesund! â„ï¸',
            'ðŸ§£ Macht es euch gemÃ¼tlich! ðŸ§£',
            'â˜•ï¸ Lasst es euch gut gehen! â˜•ï¸',
            'ðŸŽ„ GenieÃŸt die Zeit mit euren Lieben! ðŸŽ„',
            'ðŸŽ Habt einen schÃ¶nen Advent! ðŸŽ',
            'ðŸŽ… Macht euch keine Sorgen! ðŸŽ…',
            'ðŸŽ‰ Freut euch auf das neue Jahr! ðŸŽ‰',
            'âœ¨ Bleibt positiv! âœ¨',
            'ðŸ§£ Habt einen guten Rutsch! ðŸ§£',
            'ðŸŽ„ GenieÃŸt die Feiertage! ðŸŽ„',
            'ðŸŽ Macht es euch gemÃ¼tlich! ðŸŽ',
            'â˜•ï¸ Lasst es euch gut gehen! â˜•ï¸',
            'ðŸŽ„ GenieÃŸt die Zeit mit euren Lieben! ðŸŽ„',
            'ðŸŽ Habt einen schÃ¶nen Advent! ðŸŽ',
            'ðŸŽ… Macht euch keine Sorgen! ðŸŽ…',
            'ðŸŽ‰ Freut euch auf das neue Jahr! ðŸŽ‰',
            'âœ¨ Bleibt positiv! âœ¨',
            'ðŸ§£ Habt einen guten Rutsch! ðŸ§£',
            'ðŸŽ Macht es euch gemÃ¼tlich! ðŸŽ',
            'â˜•ï¸ Lasst es euch gut gehen! â˜•ï¸',
            'ðŸŽ„ GenieÃŸt die Feiertage! ðŸŽ„',
            'ðŸŽ„ Frohe Weihnachten! ðŸŽ„'
        ];


        const kalender = document.querySelector('.kalender');

        function holeDatum(){
            let date = new Date();
            if (datumSim){
                date = new Date("2023-12-12");
            }

            console.log('Tag: ' + date.getDate() + ', Monat: ' + date.getMonth());
            return date;
        }

        function erstelleNeuesToerchen(id, i) {
            const neuesToerchen = document.createElement('div');
            neuesToerchen.setAttribute('id', id)
            neuesToerchen.setAttribute('class', 'toerchen');
            neuesToerchen.textContent = i + '.'
            kalender.appendChild(neuesToerchen);
        }

        function addClickEventToToerchen(toerchen, i) {
            toerchen.addEventListener('click', () => {

                const date = holeDatum();
                const esIstSoWeit = date.getMonth() === 11 && date.getDate() >= i;

                if (esIstSoWeit || !datumsLock) {
                    toerchen.textContent = adventskalender[i-1];
                    toerchen.style.fontSize = '34px';
                }
            });
        }

        function addMouseOverEventToToerchen(toerchen, i) {
            toerchen.addEventListener('mouseover', () => {
                const date = holeDatum();

                const esIstSoWeit = date.getMonth() === 11 && date.getDate() >= i;
                if (esIstSoWeit || !datumsLock) {
                    toerchen.style.backgroundImage = 'linear-gradient(280deg, lightgrey,darkgreen, darkgreen)'
                } else {
                    toerchen.style.backgroundImage = 'linear-gradient(280deg, red, darkgreen, darkgreen)'
                }
            });
            toerchen.addEventListener('mouseout', () => {
                toerchen.style.backgroundImage = 'linear-gradient(280deg, green, darkgreen)'
            });
        }

        for (let i = 1; i <= 24; i++) {
            const id = 'tag' + i;

            erstelleNeuesToerchen(id, i);

            const toerchen = document.getElementById(id);
            addClickEventToToerchen(toerchen, i);
            addMouseOverEventToToerchen(toerchen, i);
        }



    </script>

    <script>

    </script>

</head>
<body>
    <header>
        <h1>âœ¨Adventskalenderâœ¨</h1>

    </header>
    <section class="kalender">
<!--        <div class="toerchen" id="tag1">1.</div>-->
    </section>
    <button id="buttonLock">Datumslock AUS</button>
    <button id="buttonSim">Datum auf 12.12</button>
</body>
</html>